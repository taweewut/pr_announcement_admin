<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PR Announcement Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-900">

  <!-- Header -->
  <header class="bg-green-600 text-white py-6">
    <div class="max-w-5xl mx-auto text-center">
      <h1 class="text-2xl md:text-3xl font-bold">‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</h1>
      <p class="text-sm md:text-base mt-1 tracking-wide">Public Relation Audio Announcement Management</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-5xl mx-auto mt-10 px-4">
    <h2 class="text-xl font-semibold border-b-2 border-orange-600 pb-2 mb-6 uppercase">PR Announcement</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Thai PR Message -->
      <div>
        <label class="block text-sm font-medium mb-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</label>
        <textarea rows="6" class="w-full p-3 border border-gray-300 rounded resize-none" placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏±‡∏ö MEA ‡∏£‡πà‡∏ß‡∏°‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏° ‡∏£‡∏±‡∏ö 100 MEA Point ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å MEA Point ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡πâ‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢ ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ ‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£ ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á 31 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568 ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà event dot M E A dot th slash redeem ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà Facebook MEA ‡∏´‡∏£‡∏∑‡∏≠ LINE MEA Connect</textarea>

        <audio id="audio-th" src="MEA_PR_TH.mp3" controls class="w-full mt-2"></audio>
        <div class="flex items-center gap-3 mt-2">
          <span id="status-th">‚è∏Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô</span>
          <button onclick="resetAudio('th')" class="text-sm text-gray-600 hover:text-gray-800">üîÅ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
          <button class="ml-auto bg-gray-300 text-gray-800 px-3 py-1 rounded hover:bg-gray-400">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
        </div>
      </div>

      <!-- English PR Message -->
      <div>
        <label class="block text-sm font-medium mb-2">Public Relation message</label>
        <textarea rows="6" class="w-full p-3 border border-gray-300 rounded resize-none" placeholder="Please enter your message">Your voice matters to MEA. Complete a short survey and receive 100 MEA Points. Open to MEA Point members with residential accounts. Available in Bangkok, Nonthaburi, and Samut Prakan. Campaign runs until December 31st, 2025. Visit event dot M E A dot or dot th slash redeem. For more details, contact us via Facebook MEA or LINE MEA Connect.</textarea>

        <audio id="audio-en" src="MEA_PR_EN.mp3" controls class="w-full mt-2"></audio>
        <div class="flex items-center gap-3 mt-2">
          <span id="status-en">‚è∏Ô∏è Not played</span>
          <button onclick="resetAudio('en')" class="text-sm text-gray-600 hover:text-gray-800">üîÅ Reset</button>
          <button class="ml-auto bg-gray-300 text-gray-800 px-3 py-1 rounded hover:bg-gray-400">Edit</button>
        </div>
      </div>
    </div>

    <!-- Footer Area -->
    <div class="mt-8">
      <label class="block mb-2 text-sm font-medium">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</label>
      <div class="flex flex-col md:flex-row md:items-center gap-4">
        <input id="expired-datetime" type="datetime-local" class="border border-gray-300 p-2 rounded w-full md:w-1/3" value="2025-08-15T22:59" />
        <label class="flex items-center space-x-2 text-sm">
          <input id="no-expired-checkbox" type="checkbox" class="accent-red-600" />
          <span>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</span>
        </label>
        <div class="relative group inline-block">   
          <button id="submit-button" onclick="showApprovalMessage()" class="bg-gray-400 text-white px-6 py-2 rounded cursor-not-allowed" disabled title="‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ ‡∏Å‡∏î‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®">‡∏™‡πà‡∏á</button>
          <div class="absolute left-1/2 transform -translate-x-1/2 mt-1 text-xs bg-black text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100">
            ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
          </div>
        </div>
      </div>
      <button onclick="resetPlayback()" class="bg-yellow-400 text-black px-4 py-2 rounded hover:bg-yellow-500 mt-4">Reset</button>
    </div>
  </main>
</main>
<script>
  function togglePlay(id) {
    const audio = document.getElementById(id);
    const btn = document.getElementById('btn-' + id);
    if (audio.paused) {
      audio.play();
      btn.textContent = '‚ùö‚ùö';
    } else {
      audio.pause();
      btn.textContent = '‚ñ∫';
    }
  }

  function rewindAudio(id) {
    const audio = document.getElementById(id);
    audio.currentTime = Math.max(audio.currentTime - 5, 0);
  }

  function forwardAudio(id) {
    const audio = document.getElementById(id);
    audio.currentTime = Math.min(audio.currentTime + 5, audio.duration);
  }

  function formatTime(sec) {
    const m = Math.floor(sec / 60);
    const s = Math.floor(sec % 60);
    return `${m}:${s < 10 ? '0' : ''}${s}`;
  }

  function showApprovalMessage() {
    const checkbox = document.getElementById('no-expired-checkbox');
    const input = document.querySelector('input[type="datetime-local"]');
    if (checkbox.checked) {
      alert(`‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏`);
    } else {
      const dateTime = input ? input.value : '';
      alert(`‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ñ‡∏∂‡∏á ${dateTime}`);
    }
  }

  let playedTh = false;
  let playedEn = false;

  function checkSubmitEnabled() {
    if (playedTh && playedEn) {
      const btn = document.getElementById('submit-button');
      btn.disabled = false;
      btn.classList.remove('bg-gray-400', 'cursor-not-allowed');
      btn.classList.add('bg-red-600', 'hover:bg-red-700');
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const audioTh = document.getElementById('audio-th');
    if (audioTh) {
      audioTh.addEventListener('ended', () => {
        playedTh = true;
        document.getElementById('status-th').textContent = '‚úÖ ‡∏ü‡∏±‡∏á‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß';
        checkSubmitEnabled();
      });
    }

    const audioEn = document.getElementById('audio-en');
    if (audioEn) {
      audioEn.addEventListener('ended', () => {
        playedEn = true;
        document.getElementById('status-en').textContent = '‚úÖ Finished';
        checkSubmitEnabled();
      });
    }
  });

  function resetAudio(lang) {
    const audio = document.getElementById('audio-' + lang);
    audio.pause();
    audio.currentTime = 0;
    if (lang === 'th') {
      playedTh = false;
      document.getElementById('status-th').textContent = '‚è∏Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô';
    } else {
      playedEn = false;
      document.getElementById('status-en').textContent = '‚è∏Ô∏è Not played';
    }

    const submitBtn = document.getElementById('submit-button');
    submitBtn.disabled = true;
    submitBtn.classList.add('bg-gray-400', 'cursor-not-allowed');
    submitBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
  }

  function resetPlayback() {
    const confirmReset = confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?");
    if (!confirmReset) return;

    playedTh = false;
    playedEn = false;

    document.getElementById('status-th').textContent = '‚è∏Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô';
    document.getElementById('status-en').textContent = '‚è∏Ô∏è Not played';

    const submitBtn = document.getElementById('submit-button');
    submitBtn.disabled = true;
    submitBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
    submitBtn.classList.add('bg-gray-400', 'cursor-not-allowed');

    // Reset audio
    document.getElementById('audio-th').pause();
    document.getElementById('audio-th').currentTime = 0;
    document.getElementById('audio-en').pause();
    document.getElementById('audio-en').currentTime = 0;

    // Clear textareas
    const textareas = document.querySelectorAll('textarea');
    textareas.forEach(area => area.value = '');

    // Reset datetime input
    const dateInput = document.querySelector('input[type="datetime-local"]');
    if (dateInput) dateInput.value = '';
  }
</script>
</body>
</html>